#include "stm32f1xx_hal.h"
#include "ssd1306/ssd1306.h"

I2C_HandleTypeDef hi2c1;

void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_I2C1_Init(void);

int main(void) {
  HAL_Init();
  SystemClock_Config();

  MX_GPIO_Init();
  MX_I2C1_Init();

  // 첫 번째 SSD1306 초기화
  ssd1306_Init(&hi2c1, 0x78);
  
  // 첫 번째 SSD1306에 "Hello" 출력
  ssd1306_SetCursor(0, 0);
  ssd1306_WriteString("Hello", Font_11x18, White);
  ssd1306_UpdateScreen();  // 첫 번째 화면 업데이트

  // 두 번째 SSD1306 초기화
  ssd1306_Init(&hi2c1, 0x7A);

  // 두 번째 SSD1306에 "Goodbye" 출력
  ssd1306_SetCursor(0, 0);
  ssd1306_WriteString("Goodbye", Font_11x18, White);
  ssd1306_UpdateScreen();  // 두 번째 화면 업데이트

  while (1) {
    // 아무 작업 없이 대기
  }
}

// 이하 생략
